<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculator</title>
    <style>
        body {
            font-family: monospace;
            background: #ff57ca;
            color: #d0ffd0;
            padding: 20px;
            text-align: center;
            text-align: center;
            place-items:center;
            align-items:center;
        }
        .title {
            color: #ff0000;
            font-weight: bold;
            /* border: 2px solid #7c0880; */
            border-radius: 10px;
            padding: 8px;
            margin-bottom: 12px;
            text-align: center;
            font-size: 24px;
            background: #ff57ca;
        }
        .form{
            color: #05f057;
            font-weight: bold;
            border: 2px solid #7c0880;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 12px;
            text-align: center;
            font-size: 24px;
            background: #ff57ca;
            width: 'device-width';

        }
        .note {
            color: #2f00ff;
            margin-bottom: 20px;
            font-size: 18px;
        }
        .input-label {
            color: #ff0095;
        }
        .result, .error {
            display: block;
            margin-top: 20px;
            font-size:28px;
            font-weight: bold;
        }
        .result {
            color: #050567;
        }
        .error {
            color: #f51818;
        }
        .calc-input {
            background:#ff1fb8 ;
            color: #f8f8f2;
            border: 1px solid #444;
            border-radius: 4px;
            padding: 4px;
            font-size: 16px;
        }
        button {
            background: #ea2abb;
            color: #d4eb2a;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            font-size: 20px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 12px;
        }
        button:hover {
            background: #18c968;
        }
    </style>
</head>
<body>
    <div class="title">
        CALCULATOR
    </div><br>
    <div class="note">
        Note:<br>
        1. Do not put any operators in your numbers.<br>
        2. Operator: + for add, - for subtract, * for multiply, / for divide, ^ for power<br>
        3. Leave the 2nd operator and number blank for two-number operations.<br><br>
    </div>
    <form class="form" id="calcForm" autocomplete="off" onsubmit="return calculate();">
        <label class="input-label">Enter first number:</label>
        <input type="text" class="calc-input" id="num1"><br><br>

        <label class="input-label">Enter operator:</label>
        <input type="text" class="calc-input" id="op1" maxlength="1"><br><br>

        <label class="input-label">Enter second number:</label>
        <input type="text" class="calc-input" id="num2"><br><br>

        <label class="input-label">Enter operator:</label>
        <input type="text" class="calc-input" id="op2" maxlength="1"><br><br>

        <label class="input-label">Enter third number:</label>
        <input type="text" class="calc-input" id="num3"><br><br>

        <button type="submit">Calculate</button>
        <span class="result" id="result"></span>
        <span class="error" id="error"></span>
    </form>


    <script>
        function calculate() {
            const num1 = document.getElementById('num1').value.trim();
            const op1 = document.getElementById('op1').value.trim();
            const num2 = document.getElementById('num2').value.trim();
            const op2 = document.getElementById('op2').value.trim();
            const num3 = document.getElementById('num3').value.trim();
            const resultDiv = document.getElementById('result');
            const errorDiv = document.getElementById('error');
            resultDiv.textContent = '';
            errorDiv.textContent = '';

            // Check numbers
            let n1 = parseInt(num1);
            let n2 = parseInt(num2);
            let n3 = num3 ? parseInt(num3) : null;

            if (isNaN(n1) || isNaN(n2) || (num3 && isNaN(n3))) {
                errorDiv.textContent = 'SyntaxError: invalid syntax';
                return false;
            }

            function showZeroDivision() {
                errorDiv.textContent = 'ZeroDivisionError: division by zero';
            }

            // Two-number operation
            if (!op2) {
                let expr, res;
                switch(op1) {
                    case '+':
                        expr = `${n1} + ${n2}`;
                        res = n1 + n2;
                        break;
                    case '-':
                        expr = `${n1} - ${n2}`;
                        res = n1 - n2;
                        break;
                    case '*':
                        expr = `${n1} × ${n2}`;
                        res = n1 * n2;
                        break;
                    case '/':
                        expr = `${n1} ÷ ${n2}`;
                        if(n2 === 0) return showZeroDivision(), false;
                        res = n1 / n2;
                        break;
                    case '^':
                        expr = `${n1} ^ ${n2}`;
                        res = Math.pow(n1, n2);
                        break;
                    default:
                        errorDiv.textContent = 'SyntaxError: invalid syntax';
                        return false;
                }
                resultDiv.textContent = `${expr} = ${res}`;
                return false;
            }

            // Three-number operation
            if (op2 && num3==='') {
                errorDiv.textContent = 'SyntaxError: invalid syntax';
                return false;
            }

            let expr, res;
            try {
                switch(op1) {
                    case '+':
                        switch(op2) {
                            case '+':
                                expr = `${n1} + ${n2} + ${n3}`;
                                res = n1 + n2 + n3; break;
                            case '-':
                                expr = `${n1} + ${n2} - ${n3}`;
                                res = n1 + n2 - n3; break;
                            case '*':
                                expr = `${n1} + ${n2} × ${n3}`;
                                res = n1 + n2 * n3; break;
                            case '/':
                                expr = `${n1} + ${n2} ÷ ${n3}`;
                                if(n3 === 0) return showZeroDivision(), false;
                                res = n1 + n2 / n3; break;
                            case '^':
                                expr = `${n1} + ${n2} ^ ${n3}`;
                                res = n1 + Math.pow(n2, n3); break;
                            default: errorDiv.textContent = 'SyntaxError: invalid syntax'; return false;
                        }
                        break;
                    case '-':
                        switch(op2) {
                            case '+':
                                expr = `${n1} - ${n2} + ${n3}`;
                                res = n1 - n2 + n3; break;
                            case '-':
                                expr = `${n1} - ${n2} - ${n3}`;
                                res = n1 - n2 - n3; break;
                            case '*':
                                expr = `${n1} - ${n2} × ${n3}`;
                                res = n1 - n2 * n3; break;
                            case '/':
                                expr = `${n1} - ${n2} ÷ ${n3}`;
                                if(n3 === 0) return showZeroDivision(), false;
                                res = n1 - n2 / n3; break;
                            case '^':
                                expr = `${n1} - ${n2} ^ ${n3}`;
                                res = n1 - Math.pow(n2, n3); break;
                            default: errorDiv.textContent = 'SyntaxError: invalid syntax'; return false;
                        }
                        break;
                    case '*':
                        switch(op2) {
                            case '+':
                                expr = `${n1} × ${n2} + ${n3}`;
                                res = n1 * n2 + n3; break;
                            case '-':
                                expr = `${n1} × ${n2} - ${n3}`;
                                res = n1 * n2 - n3; break;
                            case '*':
                                expr = `${n1} × ${n2} × ${n3}`;
                                res = n1 * n2 * n3; break;
                            case '/':
                                expr = `${n1} × ${n2} ÷ ${n3}`;
                                if(n3 === 0) return showZeroDivision(), false;
                                res = n1 * n2 / n3; break;
                            case '^':
                                expr = `${n1} × ${n2} ^ ${n3}`;
                                res = n1 * Math.pow(n2, n3); break;
                            default: errorDiv.textContent = 'SyntaxError: invalid syntax'; return false;
                        }
                        break;
                    case '/':
                        switch(op2) {
                            case '+':
                                expr = `${n1} ÷ ${n2} + ${n3}`;
                                if(n2 === 0) return showZeroDivision(), false;
                                res = n1 / n2 + n3; break;
                            case '-':
                                expr = `${n1} ÷ ${n2} - ${n3}`;
                                if(n2 === 0) return showZeroDivision(), false;
                                res = n1 / n2 - n3; break;
                            case '*':
                                expr = `${n1} ÷ ${n2} × ${n3}`;
                                if(n2 === 0) return showZeroDivision(), false;
                                res = n1 / n2 * n3; break;
                            case '/':
                                expr = `${n1} ÷ ${n2} ÷ ${n3}`;
                                if(n2 === 0 || n3 === 0) return showZeroDivision(), false;
                                res = n1 / n2 / n3; break;
                            case '^':
                                expr = `${n1} ÷ ${n2} ^ ${n3}`;
                                if(n2 === 0) return showZeroDivision(), false;
                                res = n1 / Math.pow(n2, n3); break;
                            default: errorDiv.textContent = 'SyntaxError: invalid syntax'; return false;
                        }
                        break;
                    case '^':
                        switch(op2) {
                            case '+':
                                expr = `${n1} ^ ${n2} + ${n3}`;
                                res = Math.pow(n1, n2) + n3; break;
                            case '-':
                                expr = `${n1} ^ ${n2} - ${n3}`;
                                res = Math.pow(n1, n2) - n3; break;
                            case '*':
                                expr = `${n1} ^ ${n2} × ${n3}`;
                                res = Math.pow(n1, n2) * n3; break;
                            case '/':
                                expr = `${n1} ^ ${n2} ÷ ${n3}`;
                                if(n3 === 0) return showZeroDivision(), false;
                                res = Math.pow(n1, n2) / n3; break;
                            case '^':
                                expr = `${n1} ^ ${n2} ^ ${n3}`;
                                res = Math.pow(n1, Math.pow(n2, n3)); break;
                            default: errorDiv.textContent = 'SyntaxError: invalid syntax'; return false;
                        }
                        break;
                    default:
                        errorDiv.textContent = 'SyntaxError: invalid syntax';
                        return false;
                }
            } catch(e) {
                errorDiv.textContent = 'SyntaxError: invalid syntax';
                return false;
            }
            resultDiv.textContent = `${expr} = ${res}`;
            return false; // prevent form submit
        }
    </script>
</body>
</html>
